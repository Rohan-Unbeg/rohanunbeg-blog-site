document.addEventListener("DOMContentLoaded", function () {
  let t = document.querySelector(".burger"),
    r = document.querySelector(".nav-links"),
    o =
      (t &&
        t.addEventListener("click", function () {
          r.classList.toggle("active"),
            t.querySelector(".line1").classList.toggle("rotate-45"),
            t.querySelector(".line2").classList.toggle("opacity-0"),
            t.querySelector(".line3").classList.toggle("rotate-neg-45");
        }),
      document.addEventListener("click", function (e) {
        r &&
          r.classList.contains("active") &&
          !r.contains(e.target) &&
          !t.contains(e.target) &&
          (r.classList.remove("active"),
          t.querySelector(".line1").classList.remove("rotate-45"),
          t.querySelector(".line2").classList.remove("opacity-0"),
          t.querySelector(".line3").classList.remove("rotate-neg-45"));
      }),
      document.querySelector("header")),
    s;
  window.addEventListener("scroll", function () {
    var e = window.scrollY;
    100 < e
      ? o.classList.add("header-scrolled")
      : o.classList.remove("header-scrolled"),
      (s = e);
  });
  var e = document.getElementById("newsletter-form");
  e &&
    e.addEventListener("submit", function (e) {
      e.preventDefault();
      e = this.querySelector('input[type="email"]');
      e.value &&
        (alert("Thank you for subscribing to my newsletter!"), (e.value = ""));
    }),
    t &&
      t.querySelectorAll("div").forEach((e) => {
        e.classList.add("burger-line");
      }),
    document.querySelectorAll('a[href^="#"]').forEach((e) => {
      e.addEventListener("click", function (e) {
        e.preventDefault();
        var e = this.getAttribute("href");
        "#" !== e &&
          (e = document.querySelector(e)) &&
          (r &&
            r.classList.contains("active") &&
            (r.classList.remove("active"),
            t.querySelector(".line1").classList.remove("rotate-45"),
            t.querySelector(".line2").classList.remove("opacity-0"),
            t.querySelector(".line3").classList.remove("rotate-neg-45")),
          e.scrollIntoView({ behavior: "smooth" }));
      });
    }),
    document.head.insertAdjacentHTML(
      "beforeend",
      `
        <style>
            .burger-line {
                transition: all 0.3s ease;
            }
            .rotate-45 {
                transform: rotate(45deg) translate(5px, 6px);
            }
            .opacity-0 {
                opacity: 0;
            }
            .rotate-neg-45 {
                transform: rotate(-45deg) translate(5px, -6px);
            }
            .header-scrolled {
                background: rgba(248, 249, 250, 0.95);
                box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            }
        </style>
    `
    );
});
